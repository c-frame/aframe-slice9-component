!function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){function i(t){switch(t){case"back":return THREE.BackSide;case"double":return THREE.DoubleSide;default:return THREE.FrontSide}}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("slice9",{schema:{alphaTest:{default:0},bottom:{default:0,min:0},color:{type:"color",default:"#fff"},debug:{default:!1},height:{default:1,min:0},left:{default:0,min:0},opacity:{default:1,min:0,max:1},padding:{default:.1,min:.01},right:{default:0,min:0},side:{default:"front",oneOf:["front","back","double"]},src:{type:"map"},top:{default:0,min:0},transparent:{default:!0},width:{default:1,min:0},usingCustomMaterial:{default:!1},usingAtlas:{default:!1},uvAtlasMin:{type:"vec2"},uvAtlasMax:{type:"vec2"}},init:function(){var t,e,i=this.data;this.textureSrc=null,t=this.geometry=new THREE.PlaneGeometry(i.width,i.height,3,3),i.usingCustomMaterial?this.plane=new THREE.Mesh(t):(e=this.material=new THREE.MeshBasicMaterial({alphaTest:i.alphaTest,color:i.color,opacity:i.opacity,transparent:i.transparent,wireframe:i.debug}),this.plane=new THREE.Mesh(t,e)),this.el.setObject3D("mesh",this.plane)},remove:function(){this.geometry&&this.geometry.dispose(),this.material&&this.material.dispose()},regenerateMesh:function(){function t(t,e,i){n[3*t]=e,n[3*t+1]=i}function e(t,e,i){s.usingAtlas&&(e=s.uvAtlasMin.x+e*(s.uvAtlasMax.x-s.uvAtlasMin.x),i=s.uvAtlasMin.y+i*(s.uvAtlasMax.y-s.uvAtlasMin.y)),o[2*t]=e,o[2*t+1]=i}var i,a,r,s=this.data,n=this.geometry.attributes.position.array,o=this.geometry.attributes.uv.array;if(!this.material||this.material.map){s.usingCustomMaterial?(i=1,r=1):(i=this.material.map.image.width,r=this.material.map.image.width),a={left:s.left/r,right:s.right/r,top:s.top/i,bottom:s.bottom/i},e(1,a.left,1),e(2,a.right,1),e(4,0,a.bottom),e(5,a.left,a.bottom),e(6,a.right,a.bottom),e(7,1,a.bottom),e(8,0,a.top),e(9,a.left,a.top),e(10,a.right,a.top),e(11,1,a.top),e(13,a.left,0),e(14,a.right,0),s.usingAtlas&&(e(0,0,1),e(3,1,1),e(12,0,0),e(15,1,0));var l=s.width/2,h=s.height/2,u=-l+s.padding,d=l-s.padding,m=h-s.padding,p=-h+s.padding;t(0,-l,h),t(1,u,h),t(2,d,h),t(3,l,h),t(4,-l,m),t(5,u,m),t(6,d,m),t(7,l,m),t(8,-l,p),t(9,u,p),t(10,d,p),t(11,l,p),t(13,u,-h),t(14,d,-h),t(12,-l,-h),t(15,l,-h),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0}},update:function(t){var e,a=this.data;e=AFRAME.utils.diff(a,t),a.usingCustomMaterial||(this.material.alphaTest=a.alphaTest,this.material.color.setStyle(a.color),this.material.opacity=a.opacity,this.material.transparent=a.transparent,this.material.wireframe=a.debug,this.material.side=i(a.side),"src"in e&&this.updateMap()),("width"in e||"height"in e)&&(this.geometry=new THREE.PlaneGeometry(a.width,a.height,3,3),this.plane.geometry=this.geometry),("width"in e||"height"in e||"padding"in e||"left"in e||"top"in e||"bottom"in e||"right"in e)&&this.regenerateMesh()},updateMap:function(){function t(t){this.material.map=t,this.material.needsUpdate=!0,this.regenerateMesh()}var e=this.data.src;if(e){if(e===this.textureSrc)return;return this.textureSrc=e,void this.el.sceneEl.systems.material.loadTexture(e,{src:e},t.bind(this))}this.material.map&&t(null)}})}]);